resources:
  - name: sample_code
    type: GitRepo
    configuration:
      path: jfrog/jfrog-pipelines-matrix-example
      branches:
        include: ^master$
      gitProvider: mkGithub

pipelines:
  - name: setup
    steps:
      - name: setup_step
        type: PreMatrix
        configuration:
          inputResources:
            - name: sample_code
        execution:
          onExecute:
            - echo "Preparing the code base"
            - pushd "${res_sample_code_resourcePath}/app"
            - npm install
            - popd 
            - mkdir -p app
            - cp -r "${res_sample_code_resourcePath}/app/." ./app/
